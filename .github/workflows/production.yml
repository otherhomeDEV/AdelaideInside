name: Deploy to Production server
on:
  push:
    branches:
      - main  # 원하는 브랜치를 지정합니다.


jobs:
  check-env:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v2
      
      - name: Print current directory
        run: pwd

      - name: List files
        run: ls -la     
 
  production:
    needs: deploy # 다른 워크플로우(job)가 완료된 후에 실행됩니다.
    runs-on: ubuntu-latest

    environment: production

    steps:
       - uses: actions/checkout@v2
       - run: echo 'production deployment'